<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8" />
    <title>
        Higher Order Functions
    </title>
    <link href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/github.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="markdown.css">
</head>

<body>
    <h1 id="higher-order-javascript-functions">
   Higher-Order JavaScript Functions
  </h1>
    <p>
        (Working with Functions in JavaScript)
    </p>
    <p>
        Higher Order Functions, or call back functions, are functions that meet one of the following criteria:
    </p>
    <ul>
        <li>
            Take at least one function as an argument
        </li>
        <li>
            Return a function
        </li>
    </ul>
    <h2 id="why-should-i-use-higher-order-functions">
   Why Should I Use Higher Order Functions?
  </h2>
    <p>
        Functions allow a programmer to reuse code, increasing development efficiency as well as develop code that is easier to follow along and read. To demonstrate this, we’re going to create a simple program and gradually increase complexity.
    </p>
    <h2 id="program-name-a-vegetable">
   Program: Name a Vegetable
  </h2>
    <p>
        The program we’re creating is simple. It will ask the user to name a vegetable, and return “Correct” if the vegetable the user names is in its database.
    </p>
    <h3 id="version-1-carrot">
   Version 1: Carrot
  </h3>
    <p>
        The
        <a href="https://jsbin.com/fohiyegufe/1/edit?js,console">
    first version
   </a> of the program will only have a single vegetable in the database. The user will only be allowed to guess a vegetable once.
    </p>
    <pre><code>var vegetable = "Carrot";

var userInput = prompt("Choose a vegetable");

if (userInput === vegetable) {
    console.log("Correct");
} else {
    console.log("Game Over!")
}
</code></pre>
    <p>
        If the user enters “Carrot” they get a log of “Correct.” Otherwise, it’s “Game Over.” The code is simple and easy to follow.
    </p>
    <p>
        <img alt="Too Easy" src="./img/tooEasy.gif" />
    </p>
    <p>
        Unfortunately, it’s too simple. There is not a scientific consensus on how many unqiue vegetables exist, but it is generally accepted the value is much higher than one.
    </p>
    <h3 id="version-15-more-vegetables">
   Version 1.5: More Vegetables
  </h3>
    <p>
        So you want to have more vegetables, eh? Simple, we can accomplish this with an if/else if statement.
    </p>
    <pre><code>if (userInput === "Carrot") {
    console.log("Correct");
} else if (userInput === "Celery") {
    console.log("Correct");
} else if (userInput === "Tomato") {
    console.log("Correct");
} else if (userInput === "Squash") {
    console.log("Correct");
} else if (userInput === "Green onion") {
    console.log("Correct");
} else {
    console.log("Game Over!");
}
</code></pre>
    <p>
        <a href="https://jsbin.com/mogateqade/1/edit?js,console">
    This code works
   </a> , and it’s still fairly easy to read. But we’re forgetting a few things.
    </p>
    <p>
        For one, we need to account for character case. A user probably shouldn’t be penalized for typing “carrot” instead of “Carrot.” Let’s use the .toLowerCase() function to fix that.
    </p>
    <pre><code>var userInput = prompt("Choose a vegetable").toLowerCase();

if (userInput === "carrot") {
    console.log("Correct");
} else if (userInput === "celery") {
    console.log("Correct");
} else if (userInput === "tomato") {
    console.log("Correct");
} else if (userInput === "squash") {
    console.log("Correct");
} else if (userInput === "green onion") {
    console.log("Correct");
} else {
    console.log("Game Over!");
}
</code></pre>
    <p>
        Yeah, so that’s a little messier, but all we had to do was add a single already defined function and change one character on each vegetable. Still, our list is pretty limited. We should add more vegetables!
    </p>
    <p>
        Let’s check Wikipedia for a list of vegetables, and use that as our database.
    </p>
    <ul>
        <li>
            Artichoke
        </li>
        <li>
            Arugula
        </li>
        <li>
            Asparagus
        </li>
        <li>
            Amaranth
        </li>
        <li>
            Legumes
        </li>
        <li>
            Alfalfa sprouts
        </li>
        <li>
            Azuki beans (or adzuki)
        </li>
        <li>
            Bean sprouts
        </li>
        <li>
            Black beans
        </li>
        <li>
            Black-eyed peas
        </li>
        <li>
            Borlotti bean
        </li>
        <li>
            Broad beans
        </li>
        <li>
            Chickpeas
        </li>
        <li>
            Eggplant
        </li>
        <li>
            Green beans
        </li>
        <li>
            Kidney beans
        </li>
        <li>
            Lentils
        </li>
        <li>
            Lima beans or Butter bean
        </li>
        <li>
            Mung beans
        </li>
        <li>
            Navy beans
        </li>
        <li>
            Pinto beans
        </li>
        <li>
            Runner beans
        </li>
        <li>
            Split peas
        </li>
        <li>
            Soy beans
        </li>
        <li>
            Peas
        </li>
        <li>
            Mangetout or Snap peas
        </li>
        <li>
            Beet greens
        </li>
        <li>
            Bok choy
        </li>
        <li>
            Broccoflower
        </li>
        <li>
            Broccoli
        </li>
        <li>
            Brussels sprouts
        </li>
        <li>
            Cabbage
        </li>
        <li>
            Calabrese
        </li>
        <li>
            Carrots
        </li>
        <li>
            Cauliflower
        </li>
        <li>
            Celery
        </li>
        <li>
            Chard
        </li>
        <li>
            Collard greens
        </li>
        <li>
            Corn salad
        </li>
        <li>
            Endive
        </li>
        <li>
            Fiddleheads
        </li>
        <li>
            Frisee
        </li>
        <li>
            Fennel
        </li>
        <li>
            Herbs and spices
        </li>
        <li>
            Anise
        </li>
        <li>
            Basil
        </li>
        <li>
            Caraway
        </li>
        <li>
            Cilantro seeds are Coriander
        </li>
        <li>
            Chamomile
        </li>
        <li>
            Dill
        </li>
        <li>
            Fennel
        </li>
        <li>
            Lavender
        </li>
        <li>
            Lemon Grass
        </li>
        <li>
            Marjoram
        </li>
        <li>
            Oregano
        </li>
        <li>
            Parsley
        </li>
        <li>
            Rosemary
        </li>
        <li>
            Sage
        </li>
        <li>
            Thyme
        </li>
        <li>
            Kale
        </li>
        <li>
            Kohlrabi
        </li>
        <li>
            Lettuce Lactuca sativa
        </li>
        <li>
            Corn
        </li>
        <li>
            Mushrooms
        </li>
        <li>
            Mustard greens
        </li>
        <li>
            Nettles
        </li>
        <li>
            New Zealand spinach
        </li>
        <li>
            Okra
        </li>
        <li>
            Onion family
        </li>
        <li>
            Chives
        </li>
        <li>
            Garlic
        </li>
        <li>
            Leek Allium porrum
        </li>
        <li>
            Onion
        </li>
        <li>
            Shallot
        </li>
        <li>
            Green onion
        </li>
        <li>
            Parsley
        </li>
        <li>
            Peppers
        </li>
        <li>
            Red pepper
        </li>
        <li>
            Chili pepper
        </li>
        <li>
            Jalapeño
        </li>
        <li>
            Habanero
        </li>
        <li>
            Paprika
        </li>
        <li>
            Tabasco pepper
        </li>
        <li>
            Cayenne pepper
        </li>
        <li>
            Radicchio
        </li>
        <li>
            Rhubarb
        </li>
        <li>
            Root vegetables
        </li>
        <li>
            Beet
        </li>
        <li>
            mangel-wurzel
        </li>
        <li>
            Carrot
        </li>
        <li>
            Celeriac
        </li>
        <li>
            Daikon
        </li>
        <li>
            Ginger
        </li>
        <li>
            Parsnip
        </li>
        <li>
            Rutabaga
        </li>
        <li>
            Turnip
        </li>
        <li>
            Radish
        </li>
        <li>
            Rutabaga
        </li>
        <li>
            Turnip
        </li>
        <li>
            Wasabi
        </li>
        <li>
            Horseradish
        </li>
        <li>
            White radish
        </li>
        <li>
            Salsify
        </li>
        <li>
            Skirret
        </li>
        <li>
            Spinach
        </li>
        <li>
            Topinambur
        </li>
        <li>
            Squashes
        </li>
        <li>
            Acorn squash
        </li>
        <li>
            Butternut squash
        </li>
        <li>
            Banana squash
        </li>
        <li>
            Zucchini
        </li>
        <li>
            Cucumber
        </li>
        <li>
            Delicata
        </li>
        <li>
            Gem squash
        </li>
        <li>
            Hubbard squash
        </li>
        <li>
            Squash
        </li>
        <li>
            Patty pans
        </li>
        <li>
            Pumpkin
        </li>
        <li>
            Spaghetti squash
        </li>
        <li>
            Tat soi
        </li>
        <li>
            Tomato
        </li>
        <li>
            Tubers
        </li>
        <li>
            Jicama
        </li>
        <li>
            Jerusalem artichoke
        </li>
        <li>
            Potato
        </li>
        <li>
            Sunchokes
        </li>
        <li>
            Sweet potato
        </li>
        <li>
            Taro
        </li>
        <li>
            Yam
        </li>
        <li>
            Turnip greens
        </li>
        <li>
            Water chestnut
        </li>
        <li>
            Watercress
        </li>
        <li>
            Zucchini
        </li>
    </ul>
    <p>
        WHOA! What!?
    </p>
    <p>
        <img alt="Lot of Work" src="./img/lotToDo.gif" />
    </p>
    <p>
        Let’s not forget we may want to let the user run the program more than once.
    </p>
    <pre><code>var userInput = prompt("Choose a vegatable").toLowerCase();

if (userInput === "carrot") {
    console.log("Correct");
    if (prompt("Would you like to played again? y/n") === 'y') {
            userInput = prompt("Choose a vegatable").toLowerCase();
            if (userInput === "carrot") {
                console.log("Correct");
            } else if (userInput === "celery") {
                console.log("Correct");
            } else if (userInput === "tomato") {
                console.log("Correct");
            } else if (userInput === "squash") {
                console.log("Correct");
            } else if (userInput === "green onion") {
                console.log("Correct");
            } else {
                console.log("Game Over!");
            }
        } else if (userInput === "celery") {
            console.log("Correct");
            if (prompt("Would you like to played again? y/n") === 'y') {
                    userInput = prompt("Choose a vegatable").toLowerCase();
                    if (userInput === "carrot") {
                        console.log("Correct");
                    } else if (userInput === "celery") {
                        console.log("Correct");
                    } else if (userInput === "tomato") {
                        console.log("Correct");
                    } else if (userInput === "squash") {
                        console.log("Correct");
                    } else if (userInput === "green onion") {
                        console.log("Correct");
                    } else {
                        console.log("Game Over!");
                    }
                } else if (userInput === "tomato") {
                    console.log("Correct");
                    if (prompt("Would you like to played again? y/n") === 'y') {
                            userInput = prompt("Choose a vegatable").toLowerCase();
                            if (userInput === "carrot") {
                                console.log("Correct");
                            } else if (userInput === "celery") {
                                console.log("Correct");
                            } else if (userInput === "tomato") {
                                console.log("Correct");
                            } else if (userInput === "squash") {
                                console.log("Correct");
                            } else if (userInput === "green onion") {
                                console.log("Correct");
                            } else {
                                console.log("Game Over!");
                            }
                        } else if (userInput === "squash") {
                            console.log("Correct");
                            if (prompt("Would you like to played again? y/n") === 'y') {
                                    userInput = prompt("Choose a vegatable").toLowerCase();
                                    if (userInput === "carrot") {
                                        console.log("Correct");
                                    } else if (userInput === "celery") {
                                        console.log("Correct");
                                    } else if (userInput === "tomato") {
                                        console.log("Correct");
                                    } else if (userInput === "squash") {
                                        console.log("Correct");
                                    } else if (userInput === "green onion") {
                                        console.log("Correct");
                                    } else {
                                        console.log("Game Over!");
                                    }
                                } else if (userInput === "green onion") {
                                    console.log("Correct");
                                    if (prompt("Would you like to played again? y/n") === 'y') {
                                            userInput = prompt("Choose a vegatable").toLowerCase();
                                            if (userInput === "carrot") {
                                                console.log("Correct");
                                            } else if (userInput === "celery") {
                                                console.log("Correct");
                                            } else if (userInput === "tomato") {
                                                console.log("Correct");
                                            } else if (userInput === "squash") {
                                                console.log("Correct");
                                            } else if (userInput === "green onion") {
                                                console.log("Correct");
                                            } else {
                                                console.log("Game Over!");
                                            }
                                        } else {
                                            console.log("Game Over!");
                                            if (prompt("Would you like to played again? y/n") === 'y') {
                                                userInput = prompt("Choose a vegatable").toLowerCase();
                                                if (userInput === "carrot") {
                                                    console.log("Correct");
                                                } else if (userInput === "celery") {
                                                    console.log("Correct");
                                                } else if (userInput === "tomato") {
                                                    console.log("Correct");
                                                } else if (userInput === "squash") {
                                                    console.log("Correct");
                                                } else if (userInput === "green onion") {
                                                    console.log("Correct");
                                                } else {
                                                    console.log("Game Over!");
                                                }
                                            }
</code></pre>
    <p>
        There’s a whole lot of things wrong with the above code.
    </p>
    <ol>
        <li>
            It’s broken and spits back an error message. I’m not going to try to debug it, and neither should you, because the code is too much of a mess to bother. You wouldn’t try to debug this kind of disaster. You would rewrite.
            <ul>
                <li>
                    And you know, ideally, it wouldn’t be written this way the first place.
                </li>
            </ul>
        </li>
        <li>
            Even if it did work, it only allows the user to run the program, at most, twice. The user should be able to rerun program as often as he/she wishes.
        </li>
        <li>
            As is, the code only accounts for 5 vegetables. Our database has 133 varieties. I shudder to think what this would look like if we included the whole database.
        </li>
    </ol>
    <p>
        <img alt="A Mess" src="./img/mess.gif" />
    </p>
    <h4 id="sneak-peek">
   Sneak Peek
  </h4>
    <p>
        You may be thinking by this point this has been less of a lesson on higher order functions and more of a demonstration of
        <a href="https://en.wikipedia.org/wiki/Entropy">
    entropy
   </a> , and you’d be right.
    </p>
    <p>
        <img alt="Entropy" src="https://www.geeksaresexy.net/wp-content/uploads/2014/02/entropy.jpg" />
    </p>
    <p>
        So let’s briefly cut ahead, and I’ll show you what the main program line will look like, without only the highest order function’s code.
    </p>
    <pre><code>function veggieGame() { //Make Program code for veggie game


    var userInput = getInput("Vegetable");

    getResults(compareList(userInput), userInput);

    return replay();
}
//MAIN PROGRAM CODE
veggieGame();
</code></pre>
    <p>
        NOTE TO SELF: THIS MAY NEED TO BE EDITED. DON’T FORGET!
    </p>
    <p>
        Notice how easy to read that code is? Even someone with no programming experience could
        <em>
    maybe
   </em> deduce from that line of code we were going to:
    </p>
    <ol>
        <li>
            Play a game about veggies
        </li>
        <li>
            That requires some user input
        </li>
        <li>
            That will give us a result
        </li>
        <li>
            And allow a replay
        </li>
    </ol>
    <h3 id="version-2-databases-and-loops">
   Version 2: Databases and Loops
  </h3>
    <p>
        We’re not going to get to functions quite yet. Let’s look at alternative methods we could use to improve the efficentcy of our code.
    </p>
    <p>
        First let’s store our vegetable database in an array:
    </p>
    <pre><code>var veggies = ["Artichoke", "Arugula", "Asparagus", "Amaranth", "Legumes", "Alfalfa sprouts", "Azuki beans", "Bean sprouts", "Black beans", "Black-eyed peas", "Borlotti bean", "Broad beans", "Chickpeas", "Eggplant", "Green beans", "Kidney beans", "Lentils", "Lima beans or Butter bean", "Mung beans", "Navy beans", "Pinto beans", "Runner beans", "Split peas", "Soy beans", "Peas", "Mangetout or Snap peas", "Beet greens", "Bok choy", "Broccoflower", "Broccoli", "Brussels sprouts", "Cabbage", "Calabrese", "Carrots", "Cauliflower", "Celery", "Chard", "Collard greens", "Corn salad", "Endive", "Fiddleheads", "Frisee", "Fennel", "Herbs and spices", "Anise", "Basil", "Caraway", "Cilantro seeds", "Chamomile", "Dill", "Fennel", "Lavender", "Lemon Grass", "Marjoram", "Oregano", "Parsley", "Rosemary", "Sage", "Thyme", "Kale", "Kohlrabi", "Lettuce Lactuca sativa", "Corn", "Mushrooms", "Mustard greens", "Nettles", "New Zealand spinach", "Okra", "Onion family", "Chives", "Garlic", "Leek Allium porrum", "Onion", "Shallot", "Green onion", "Parsley", "Peppers", "Red pepper", "Chili pepper", "Jalapeño", "Habanero", "Paprika", "Tabasco pepper", "Cayenne pepper", "Radicchio", "Rhubarb", "Root vegetables", "Beet", "mangel-wurzel", "Carrot", "Celeriac", "Daikon", "Ginger", "Parsnip", "Rutabaga", "Turnip", "Radish", "Rutabaga", "Turnip", "Wasabi", "Horseradish", "White radish", "Salsify", "Skirret", "Spinach", "Topinambur", "Squashes", "Acorn squash", "Butternut squash", "Banana squash", "Zucchini", "Cucumber", "Delicata", "Gem squash", "Hubbard squash", "Squash", "Patty pans", "Pumpkin", "Spaghetti squash", "Tat soi", "Tomato", "Tubers", "Jicama", "Jerusalem artichoke", "Potato", "Sunchokes", "Sweet potato", "Taro", "Yam", "Turnip greens", "Water chestnut", "Watercress", "Zucchini"];
</code></pre>
    <p>
        Now we can use a for loop to check if the user input matches with a value in our array.
    </p>
    <pre><code>var vegetables = ["Artichoke", "Arugula", "Asparagus", "Amaranth", "Legumes", "Alfalfa sprouts", "Azuki beans", "Bean sprouts", "Black beans", "Black-eyed peas", "Borlotti bean", "Broad beans", "Chickpeas", "Eggplant", "Green beans", "Kidney beans", "Lentils", "Lima beans or Butter bean", "Mung beans", "Navy beans", "Pinto beans", "Runner beans", "Split peas", "Soy beans", "Peas", "Mangetout or Snap peas", "Beet greens", "Bok choy", "Broccoflower", "Broccoli", "Brussels sprouts", "Cabbage", "Calabrese", "Carrots", "Cauliflower", "Celery", "Chard", "Collard greens", "Corn salad", "Endive", "Fiddleheads", "Frisee", "Fennel", "Herbs and spices", "Anise", "Basil", "Caraway", "Cilantro seeds", "Chamomile", "Dill", "Fennel", "Lavender", "Lemon Grass", "Marjoram", "Oregano", "Parsley", "Rosemary", "Sage", "Thyme", "Kale", "Kohlrabi", "Lettuce Lactuca sativa", "Corn", "Mushrooms", "Mustard greens", "Nettles", "New Zealand spinach", "Okra", "Onion family", "Chives", "Garlic", "Leek Allium porrum", "Onion", "Shallot", "Green onion", "Parsley", "Peppers", "Red pepper", "Chili pepper", "Jalapeño", "Habanero", "Paprika", "Tabasco pepper", "Cayenne pepper", "Radicchio", "Rhubarb", "Root vegetables", "Beet", "mangel-wurzel", "Carrot", "Celeriac", "Daikon", "Ginger", "Parsnip", "Rutabaga", "Turnip", "Radish", "Rutabaga", "Turnip", "Wasabi", "Horseradish", "White radish", "Salsify", "Skirret", "Spinach", "Topinambur", "Squashes", "Acorn squash", "Butternut squash", "Banana squash", "Zucchini", "Cucumber", "Delicata", "Gem squash", "Hubbard squash", "Squash", "Patty pans", "Pumpkin", "Spaghetti squash", "Tat soi", "Tomato", "Tubers", "Jicama", "Jerusalem artichoke", "Potato", "Sunchokes", "Sweet potato", "Taro", "Yam", "Turnip greens", "Water chestnut", "Watercress", "Zucchini"];

var userInput = prompt("Please Enter a Vegetable.");

var isVegetable;//stores if userInput is a vegetable.  
var i;// used in for loop

for (i = 0; i &lt; 133; i++) {
    if (vegetables[i] === userInput) {
        isVegetable = true;
    }
}

if (isVegetable === true) {
    console.log("Correct, that is a vegetable!");
} else {
    console.log(userInput + " is not a vegetable.  Game Over!");
}
</code></pre>
    <div class="bug">
    <p>
        <img alt="Warning" src="./img/warning.png" /> This code
        <a href="https://jsbin.com/xipeve/1/edit?js,console">
    works
   </a> but I have purposely left a few spots where it could be greatly improved. See if you can spot them. If not, don’t worry, I’ll point them all out below.
    </p>
    <ul>
        <li>
            Right now the code is case sensitive, so while the program will recognize “Carrot” as a correct response, it will not recognize “carrot” as a vegetable.
            <ul>
                <li>
                    We can fix this with some proper usage of the toLowerCase() function.
                </li>
            </ul>
        </li>
        <li>
            The end condition of the for loop is currently i &lt; 133, which is the length of our array. This does not allow us to add more vegetables to our array without also having to change our for loop.
            <ul>
                <li>
                    We can fix this by changing 133 to vegetables.length.
                </li>
            </ul>
        </li>
        <li>
            If the loop finds a “true” condition it continues to run through the loop, even though we already found what we were looking for.
            <ul>
                <li>
                    Adding a break after “isVegetable = true”, while not changing the function of our code, will increase efficiency.
                </li>
            </ul>
        </li>
        <li>
            Currently if the user correctly enters a vegetable our feedback system does not report the vegetable.
            <ul>
                <li>
                    We can fix this by adding userInput to our console.log.
                </li>
            </ul>
        </li>
    </ul>
    <p>
        <a href="https://jsbin.com/xipeve/2/edit?js,console">
    The result:
   </a>
    </p>
    <pre><code>var vegetables = ["Artichoke", "Arugula", "Asparagus", "Amaranth", "Legumes", "Alfalfa sprouts", "Azuki beans", "Bean sprouts", "Black beans", "Black-eyed peas", "Borlotti bean", "Broad beans", "Chickpeas", "Eggplant", "Green beans", "Kidney beans", "Lentils", "Lima beans or Butter bean", "Mung beans", "Navy beans", "Pinto beans", "Runner beans", "Split peas", "Soy beans", "Peas", "Mangetout or Snap peas", "Beet greens", "Bok choy", "Broccoflower", "Broccoli", "Brussels sprouts", "Cabbage", "Calabrese", "Carrots", "Cauliflower", "Celery", "Chard", "Collard greens", "Corn salad", "Endive", "Fiddleheads", "Frisee", "Fennel", "Herbs and spices", "Anise", "Basil", "Caraway", "Cilantro seeds", "Chamomile", "Dill", "Fennel", "Lavender", "Lemon Grass", "Marjoram", "Oregano", "Parsley", "Rosemary", "Sage", "Thyme", "Kale", "Kohlrabi", "Lettuce Lactuca sativa", "Corn", "Mushrooms", "Mustard greens", "Nettles", "New Zealand spinach", "Okra", "Onion family", "Chives", "Garlic", "Leek Allium porrum", "Onion", "Shallot", "Green onion", "Parsley", "Peppers", "Red pepper", "Chili pepper", "Jalapeño", "Habanero", "Paprika", "Tabasco pepper", "Cayenne pepper", "Radicchio", "Rhubarb", "Root vegetables", "Beet", "mangel-wurzel", "Carrot", "Celeriac", "Daikon", "Ginger", "Parsnip", "Rutabaga", "Turnip", "Radish", "Rutabaga", "Turnip", "Wasabi", "Horseradish", "White radish", "Salsify", "Skirret", "Spinach", "Topinambur", "Squashes", "Acorn squash", "Butternut squash", "Banana squash", "Zucchini", "Cucumber", "Delicata", "Gem squash", "Hubbard squash", "Squash", "Patty pans", "Pumpkin", "Spaghetti squash", "Tat soi", "Tomato", "Tubers", "Jicama", "Jerusalem artichoke", "Potato", "Sunchokes", "Sweet potato", "Taro", "Yam", "Turnip greens", "Water chestnut", "Watercress", "Zucchini"];

var userInput = prompt("Please Enter a Vegetable.");

var isVegetable; //stores if userInput is a vegetable.  
var i; // used in for loop

for (i = 0; i &lt; vegetables.length; i++) {
    if (vegetables[i].toLowerCase() === userInput.toLowerCase()) {
        isVegetable = true;
        break;
    }
}

if (isVegetable === true) {
    console.log("Correct, " + userInput + " is a vegetable!");
} else {
    console.log(userInput + " is not a vegetable.  Game Over!");
}
</code></pre>
    </div>
    <p>
        Finally, we need to allow the user to rerun the program. We can accomplish this with a simple do while loop added to the code.
    </p>
    <pre><code>var vegetables = ["Artichoke", "Arugula", "Asparagus", "Amaranth", "Legumes", "Alfalfa sprouts", "Azuki beans", "Bean sprouts", "Black beans", "Black-eyed peas", "Borlotti bean", "Broad beans", "Chickpeas", "Eggplant", "Green beans", "Kidney beans", "Lentils", "Lima beans or Butter bean", "Mung beans", "Navy beans", "Pinto beans", "Runner beans", "Split peas", "Soy beans", "Peas", "Mangetout or Snap peas", "Beet greens", "Bok choy", "Broccoflower", "Broccoli", "Brussels sprouts", "Cabbage", "Calabrese", "Carrots", "Cauliflower", "Celery", "Chard", "Collard greens", "Corn salad", "Endive", "Fiddleheads", "Frisee", "Fennel", "Herbs and spices", "Anise", "Basil", "Caraway", "Cilantro seeds", "Chamomile", "Dill", "Fennel", "Lavender", "Lemon Grass", "Marjoram", "Oregano", "Parsley", "Rosemary", "Sage", "Thyme", "Kale", "Kohlrabi", "Lettuce Lactuca sativa", "Corn", "Mushrooms", "Mustard greens", "Nettles", "New Zealand spinach", "Okra", "Onion family", "Chives", "Garlic", "Leek Allium porrum", "Onion", "Shallot", "Green onion", "Parsley", "Peppers", "Red pepper", "Chili pepper", "Jalapeño", "Habanero", "Paprika", "Tabasco pepper", "Cayenne pepper", "Radicchio", "Rhubarb", "Root vegetables", "Beet", "mangel-wurzel", "Carrot", "Celeriac", "Daikon", "Ginger", "Parsnip", "Rutabaga", "Turnip", "Radish", "Rutabaga", "Turnip", "Wasabi", "Horseradish", "White radish", "Salsify", "Skirret", "Spinach", "Topinambur", "Squashes", "Acorn squash", "Butternut squash", "Banana squash", "Zucchini", "Cucumber", "Delicata", "Gem squash", "Hubbard squash", "Squash", "Patty pans", "Pumpkin", "Spaghetti squash", "Tat soi", "Tomato", "Tubers", "Jicama", "Jerusalem artichoke", "Potato", "Sunchokes", "Sweet potato", "Taro", "Yam", "Turnip greens", "Water chestnut", "Watercress", "Zucchini"];

do {
    var userInput = prompt("Please Enter a Vegetable.");

    var isVegetable = false; //stores if userInput is a vegetable.  
    var i; // used in for loop

    for (i = 0; i &lt; vegetables.length; i++) {
        if (vegetables[i].toLowerCase() === userInput.toLowerCase()) {
            isVegetable = true;
            break;
        }
    }

    if (isVegetable === true) {
        console.log("Correct, " + userInput + " is a vegetable!");
    } else {
        console.log(userInput + " is not a vegetable.  Game Over!");
    }

    var repeat = prompt("If you would like to play again, enter character 'y'");
} while (repeat === "y");
</code></pre>
    <p>
        <strong>
    Instructor Note: Seems to be broken in JSBin.  Works everywhere else.
   </strong>
    </p>
    <div class="bug">
        <p>
            <img alt="bug report" src="./img/Bug.png" /> Bug Report:
        </p>
        <p>
            We made one other change outside the do/while loop. Can you see it?
        </p>
        <p>
            By default, we set variable isVegetable to false. Adding the loop without this creates a bug. If the user selects a vegetable on the first try, our loop sets the value to true. Since before we did not have a default value for this variable, it remained true even if the user did not select a vegetable on the second try! Always be mindful when adding a loop how it my affect code outside of it.
        </p>
        </div>
    <h3 id="version-3-adding-functions">
   Version 3: Adding Functions
  </h3>
    <p>
        This code works, fixes a few issues with the old version, and is fairly readable.
    </p>
    <p>
        But it’s not great.
    </p>
    <p>
        Let me tell you a little secret. Every time a Modern Developer instructor needlessly uses a loop in a course example I want to tear my hair out. It’s not because I don’t understand how loops work or even how to read them. It’s that loops require a whole lot of mental gymnastics to cipher. Remember, we stated before that we want our code to be inherently readable.
    </p>
    <p>
        <em>
    Note: from here on out I will only display relevant pieces of code.  If you want to see the full code, check out the frequent JSBin links I’ve placed around!
   </em>
    </p>
    <p>
        Let’s turn our little game
        <a href="https://jsbin.com/xipeve/3/edit?js,console">
    in to a single function
   </a> .
    </p>
    <pre><code>veggieGame();
</code></pre>
    <p>
        We could recreate our previous do while code, but once again, in the interest of making this easier to read, it’s easier to wrap it around our function.
    </p>
    <pre><code>do{
    veggieGame();
} while (veggieGame() === true);
</code></pre>
    <p>
        <a href="https://jsbin.com/xipeve/7/edit?js,console">
    Looking at this
   </a> I can easily decipher that there’s going to be a game with veggies and it will continue until an event makes veggieGame false.
    </p>
    <h3 id="version-4-our-first-higher-order-function">
   Version 4: Our First Higher Order Function
  </h3>
    <p>
        Remember, if a function returns another function, then it meets one of the criteria for a higher order function. With this ability in mind, we can remove our do/while loop entirely and instead have veggieGame()
        <a href="https://jsbin.com/xipeve/7/edit?js,console">
    return a function
   </a> that serves the same purpose.
    </p>
    <pre><code>function veggieGame() {
...

return replay();
}


function replay() { //allows user to play again
    var playAgain = false; //stores if the user wants to play again.  Defaults to false.
    playAgain = prompt("Enter character 'y' to play again");

    if (playAgain === 'y') {
        veggieGame();
    }
}
</code></pre>
    <div class="consider">
        <p>
            <img alt="Consider" src="./img/thumbsUp.png" /> For Consideration:
        </p>
        <h5 id="hey-there-why-not-leave-the-code-as-it-is">
   Hey there, why not leave the code as it is?!?!
  </h5>
        <p>
            Creating functions allows you to organize your code into reusable chunks. Not only does this allow your code to be more modular, but it makes editing it a lot simpler.
        </p>
        <h5 id="how-is-this-simpler-its-almost-identical-to-the-old-code">
   How is this simpler?  It’s almost identical to the old code.
  </h5>
        <p>
            You may want to make changes to a particular section of your code. If we use replay() as an example: the current user message is very sparse. Having it be it’s own function makes it easy to find the exact section you need to modify.
        </p>
        <p>
            Let’s review our prefunction code:
        </p>
        <pre><code>var vegetables = [...];

do {
    var userInput = prompt("Please Enter a Vegetable.");

    var isVegetable = false; //stores if userInput is a vegetable.  
    var i; // used in for loop

    for (i = 0; i &lt; vegetables.length; i++) {
        if (vegetables[i].toLowerCase() === userInput.toLowerCase()) {
            isVegetable = true;
            break;
        }
    }

    if (isVegetable === true) {
        console.log("Correct, " + userInput + " is a vegetable!");
    } else {
        console.log(userInput + " is not a vegetable.  Game Over!");
    }

    var repeat = prompt("If you would like to play again, enter character 'y'");
} while (repeat === "y");
</code></pre>
        <p>
            Here, we have to hunt through a lot of unrelated game code to find the exact detail we want to modify. This is a small program, so doing so is not any more than a minor inconvenience. But keep in mind- software can be composed of hundreds of thousands, or even millions, of lines of code.
        </p>
        <p>
            The Linux Kernel, for example, is over 15 million lines of code! I’d hate to search through that without functions!
        </p>
        <p>
            Since the replay() feature is now a function, it’s easy to go in and make a minor adjustment.
        </p>
        <pre><code>function replay() { //allows user to play again
    var playAgain = false; //stores if the user wants to play again.  Defaults to false.
    playAgain = prompt("Would you like to play again?  If so enter character 'y'");

    if (playAgain === 'y') {
        veggieGame();
    }
}
</code></pre>
        <h5 id="you-said-functions-make-code-more-modular-what-does-that-mean">
   You said functions make code more modular.  What does that mean?
  </h5>
        <p>
            It allows you to reuse sections of the program without rewriting them over again.
        </p>
        <p>
            As a thought exercise, let’s pretend we anted to expand our game so the user could choose a version with fruits or vegetables. We could create a fruitsGame() similiar to our veggieGame(). Here’s a very abbreviated version of how that could look.
        </p>
        <pre><code>function Game() { //allows user to select game type
    ...
    if (userInput === 1) {
        veggieGame();
    } else {
        fruitsGame ();
    }
    return replay();    
}

function replay() { //allows user to play again
        var playAgain = false; //stores if the user wants to play again.  Defaults to false.
        playAgain = prompt("Would you like to play again?  If so enter character 'y'");

        if (playAgain === 'y') {
            Game();
        }
    }
</code></pre>
        <p>
            Notice how we didn’t have to code a replay function into each game? We could add unlimited game variations and not have to ever code a replay mechanism again.
        </p>
        <p>
            Hence the term “High Oder Functions” the functions at the top can call further functions, which can gall even further functions. The first function run in your program is in essence the “Highest Order” calling on the lower functions to do its bidding.
        </p>
    </div>
    <h4 id="version-45-functionize">
   Version 4.5: Functionize!
  </h4>
    <p>
        We can use this same concept to further modularize our code with additional functions. Take a look at the new code base
        <a href="https://jsbin.com/jiyidilaja/1/edit?js,console">
    at this JSBin link.
   </a>
    </p>
    <p>
        Let break down, piece by piece, how this code now works:
    </p>
    <h5 id="step-1-main-program-code">
   Step 1: Main Program Code
  </h5>
    <pre><code>//MAIN PROGRAM CODE
veggieGame();
</code></pre>
    <ul>
        <li>
            The program runs our Highest Order function, veggieGame().
        </li>
    </ul>
    <h5 id="step-2-the-veggiegame-function">
   Step 2: The veggieGame() function
  </h5>
    <pre><code>function veggieGame() { //Make Program code for veggie game


var userInput = getInput("Vegetable");


if (compareList(userInput) === true) {
    alert("Correct, " + userInput + " is a vegetable!");
} else {
    alert(userInput + " is not a vegetable.  Game Over!");
}

return replay();
</code></pre>
    <p>
        }
    </p>
    <ul>
        <li>
            Get user input from function getInput() and set value to variable userInput
        </li>
    </ul>
    <p>
        Ex:
    </p>
    <pre><code>    function getInput(gameType) { //gets userInput for game type.  Example getInput("Vegetable");
        var userInput = prompt("Please Enter a " + gameType);
        return userInput;
}
</code></pre>
    <div class="consider">
        <p>
            <img alt="Consider" src="./img/thumbsUp.png" /> For Consideration: This function uses a generic naming scheme and takes a variable to communicate with the user instead of simply using the string “Vegetable.” This is so we could reuse this function at a later time to ad more game mods.
        </p>
        <ol>
            <li>
                Functions gets user input using a prompt dialogue box and returns user enter value.
            </li>
            <li>
                Compare user value to vegetable database using compareList() function.
                <ul>
                    <li>
                        Returns true if there’s a match
                    </li>
                    <li>
                        False if there is not a match
                    </li>
                </ul>
            </li>
        </ol>
        <p>
            compareList()
        </p>
        <pre><code>function compareList(userInput) { //compares user input to games internal list for a match
    var vegetables = ["Artichoke", "Arugula", "Asparagus", "Amaranth", "Legumes", "Alfalfa sprouts", "Azuki beans", "Bean sprouts", "Black beans", "Black-eyed peas", "Borlotti bean", "Broad beans", "Chickpeas", "Eggplant", "Green beans", "Kidney beans", "Lentils", "Lima beans or Butter bean", "Mung beans", "Navy beans", "Pinto beans", "Runner beans", "Split peas", "Soy beans", "Peas", "Mangetout or Snap peas", "Beet greens", "Bok choy", "Broccoflower", "Broccoli", "Brussels sprouts", "Cabbage", "Calabrese", "Carrots", "Cauliflower", "Celery", "Chard", "Collard greens", "Corn salad", "Endive", "Fiddleheads", "Frisee", "Fennel", "Herbs and spices", "Anise", "Basil", "Caraway", "Cilantro seeds", "Chamomile", "Dill", "Fennel", "Lavender", "Lemon Grass", "Marjoram", "Oregano", "Parsley", "Rosemary", "Sage", "Thyme", "Kale", "Kohlrabi", "Lettuce Lactuca sativa", "Corn", "Mushrooms", "Mustard greens", "Nettles", "New Zealand spinach", "Okra", "Onion family", "Chives", "Garlic", "Leek Allium porrum", "Onion", "Shallot", "Green onion", "Parsley", "Peppers", "Red pepper", "Chili pepper", "Jalapeño", "Habanero", "Paprika", "Tabasco pepper", "Cayenne pepper", "Radicchio", "Rhubarb", "Root vegetables", "Beet", "mangel-wurzel", "Carrot", "Celeriac", "Daikon", "Ginger", "Parsnip", "Rutabaga", "Turnip", "Radish", "Rutabaga", "Turnip", "Wasabi", "Horseradish", "White radish", "Salsify", "Skirret", "Spinach", "Topinambur", "Squashes", "Acorn squash", "Butternut squash", "Banana squash", "Zucchini", "Cucumber", "Delicata", "Gem squash", "Hubbard squash", "Squash", "Patty pans", "Pumpkin", "Spaghetti squash", "Tat soi", "Tomato", "Tubers", "Jicama", "Jerusalem artichoke", "Potato", "Sunchokes", "Sweet potato", "Taro", "Yam", "Turnip greens", "Water chestnut", "Watercress", "Zucchini"];

    var i; // used in for loop

    for (i = 0; i &lt; vegetables.length; i++) {
        if (vegetables[i].toLowerCase() === userInput.toLowerCase()) {
            return true;
        }
    }
    return false;
}
</code></pre>
        <ul>
            <li>
                Within the main veggieGame() function, report results back to user based on if compareList() === true or false.
            </li>
        </ul>
        <p>
            Ex:
        </p>
        <pre><code>if (compareList(userInput) === true) {
        alert("Correct, " + userInput + " is a vegetable!");
    } else {
        alert(userInput + " is not a vegetable.  Game Over!");
    }
</code></pre>
        <ul>
            <li>
                Finally, veggieMain() returns replay() which allows the user to play again.
            </li>
        </ul>
        <p>
            Ex:
        </p>
        <pre><code>function replay() { //allows user to play again
    var playAgain = false; //stores if the user wants to play again.  Defaults to false.
    playAgain = prompt("Enter character 'y' to play again");

    if (playAgain === 'y') {
        veggieGame();
    }
}
</code></pre>
    </div>
    <h3 id="version-5-functions-as-input">
   Version 5: Functions as Input
  </h3>
    <p>
        There’s one section of code we did not yet turn into a function:
    </p>
    <pre><code> if (compareList(userInput) === true) {
        alert("Correct, " + userInput + " is a vegetable!");
    } else {
        alert(userInput + " is not a vegetable.  Game Over!");
    }
</code></pre>
    <p>
        To accomplish this, we can create a function getResults() with the arguments (trueOrFalse) and (userInput):
    </p>
    <pre><code>function getResults(trueOrFalse, userInput) {
    if (trueOrFalse === true) {
        alert("Correct, " + userInput + " is a vegetable!");
    } else {
        alert(userInput + " is not a vegetable.  Game Over!");
    }
}
</code></pre>
    <p>
        Then we call it using compareList() as an argument.
    </p>
    <pre><code>getResults(compareList(userInput), userInput);
</code></pre>
    <h5 id="why-this-works">
   Why this works:
  </h5>
    <p>
        Remember, compare list returns a value of true or false:
    </p>
    <pre><code>function compareList(userInput) { //compares user input to games internal list for a match
    var vegetables = [...];

    var i; // used in for loop

    for (i = 0; i &lt; vegetables.length; i++) {
        if (vegetables[i].toLowerCase() === userInput.toLowerCase()) {
            return true;
        }
    }
    return false;
}
</code></pre>
    <p>
        In JavaScript, every thing is an object. A function is an object that returns a value. Since getResults first argument needs a value of true or false, running compareList(userInput) returns one of those values and assigns the result to getResults first argument. In this example, getResults() is a higher order function of compareList()!
    </p>
    <h3 id="try-it-yourself">
   Try it Yourself
  </h3>
    <p>
        We’ve finally completed our comparison game! That’s a lot of work!
    </p>
    <p>
        <img alt="It Really Is" src="./img/itReallyIs.gif" />
    </p>
    <p>
        Here’s how much we cleaned up our program code.
    </p>
    <pre><code>function veggieGame() { //Make Program code for veggie game


    var userInput = getInput("Vegetable");

    getResults(compareList(userInput), userInput);

    return replay();
}
//MAIN PROGRAM CODE
veggieGame();
</code></pre>
    <p>
        <a href="https://jsbin.com/xulexoqesa/edit?js,output">
    Here’s the Final Result
   </a>
    </p>
    <p>
        <img alt="Now it Ends" src="https://media.giphy.com/media/3oEjHG1F6oSXYmgRJC/giphy.gif" />
    </p>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js">


    </script>
    <script>
        hljs.initHighlightingOnLoad();

    </script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">


    </script>
    <script type="text/javascript">
        MathJax.Hub.Config({
            "showProcessingMessages": false,
            "messageStyle": "none",
            "tex2jax": {
                inlineMath: [
                    ["$", "$"]
                ]
            }
        });

    </script>
</body>

</html>
